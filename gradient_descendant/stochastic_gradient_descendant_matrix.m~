clear;
cd /home/hadoop-user/Downloads/DATA/ex2Data
x = load('ex2x.dat');
y = load('ex2y.dat');



m = length(y); % store the number of training examples
x = [ones(m, 1), x]; % Add a column of ones to x
n = size(x,2);
%this part is for minimizing the Theta_vec: coefficients.

%theta_vec = [0 0]';
theta_vec = zeros(n,1);

alpha = 0.007;

%err = [0 0]';
err = zeros(n,1);

for kk = 1:10000
 h_theta = (x*theta_vec);
 h_theta_v = h_theta*ones(1,n);
 y_v = y*ones(1,n);
 %theta_vec = theta_vec - alpha*1/m*sum((h_theta_v - y_v).*x).';
 theta_vec = theta_vec - alpha*1/m*sum((h_theta - y)*ones(1,n).*x).';
 err(:,kk) = 1/m*sum((h_theta_v - y_v).*x)'; 
end


n = size(x,2)+1;
% init theta
theta_vec = zeros(n,1);
alpha = 0.007;
for k = 1:1000
    for i=1:m
        
        
        
        
        
        x_vec=[ones(1,1),x(i,:)];
        y_vec=[ones(1,1),y(i,:)];
        h_theta=x_vec*theta_vec
        h_theta
        
        
        
        theta = caculate_theta(theta,x_vec,y_vec,alpha);
        
    end
end
theta
